{% extends "base.html" %}

{% block title %}Dashboard - Quản Lý Bán Account Game{% endblock %}

{% block content %}
<h1 class="mb-4"><i class="bi bi-speedometer2"></i> Dashboard</h1>

<!-- Thống kê tổng quan -->
<div class="row mb-4">
    <div class="col-md-3 mb-3">
        <div class="card stat-card text-white bg-primary">
            <div class="card-body">
                <h5 class="card-title"><i class="bi bi-box-seam"></i> Tổng Account</h5>
                <h2 class="mb-0">{{ total_accounts }}</h2>
            </div>
        </div>
    </div>
    <div class="col-md-3 mb-3">
        <div class="card stat-card text-white bg-success">
            <div class="card-body">
                <h5 class="card-title"><i class="bi bi-check-circle"></i> Đang Có Sẵn</h5>
                <h2 class="mb-0">{{ available_accounts }}</h2>
            </div>
        </div>
    </div>
    <div class="col-md-3 mb-3">
        <div class="card stat-card text-white bg-warning">
            <div class="card-body">
                <h5 class="card-title"><i class="bi bi-cart-check"></i> Đã Bán</h5>
                <h2 class="mb-0">{{ sold_accounts }}</h2>
            </div>
        </div>
    </div>
    <div class="col-md-3 mb-3">
        <div class="card stat-card text-white bg-info">
            <div class="card-body">
                <h5 class="card-title"><i class="bi bi-cash-coin"></i> Tổng Doanh Thu</h5>
                <h2 class="mb-0">{{ total_revenue | thousands }}</h2>
            </div>
        </div>
    </div>
</div>

<!-- Biểu đồ -->
<div class="row">
    <div class="col-md-12 mb-4">
        <div class="chart-container">
            <h5 class="mb-3"><i class="bi bi-graph-up"></i> Doanh Thu Theo Ngày</h5>
            <img src="data:image/png;base64,{{ revenue_chart }}" class="img-fluid" alt="Doanh Thu Theo Ngày">
        </div>
    </div>
    
    <div class="col-md-6 mb-4">
        <div class="chart-container">
            <h5 class="mb-3"><i class="bi bi-pie-chart"></i> Số Lượng Account Theo Game</h5>
            <img src="data:image/png;base64,{{ game_chart }}" class="img-fluid" alt="Số Lượng Account Theo Game">
        </div>
    </div>
    
    <div class="col-md-6 mb-4">
        <div class="chart-container">
            <h5 class="mb-3"><i class="bi bi-bar-chart"></i> Doanh Thu Theo Game</h5>
            {% if revenue_by_game_chart %}
                <img src="data:image/png;base64,{{ revenue_by_game_chart }}" class="img-fluid" alt="Doanh Thu Theo Game">
            {% else %}
                <p class="text-muted">Chưa có dữ liệu bán hàng</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}

